<div ng-controller="query">
		
	<h1>{{query.id}}</h1>
	
	<p class="doc">
		<div class="line" ng-repeat="line in query.doc">{{line}}</div>
	</p>

	<h3>Parameters</h3>
	
	<table class="table table-striped table-condensed">
		<thead>
			<tr>
				<th>Name</th>
				<th>Type</th>
				<th>Default</th>
				<th>Details</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="(name, def) in query.params">
				<td>{{name}}</td>
				<td>
					<span ng-repeat="type in def.type">
						<span class="label label-{{type}}">{{type}}</span>
					</span>
				</td>
				<td>{{def.default_str}}</td>
				<td>{{def.doc}}</td>
			</tr>
		</tbody>
	</table>
			
	<h3>Output</h3>
	
	<div ng-show="query.output.rows == 'first' && query.output.columns == 'first'">
		<p>
			<span ng-repeat="(name, def) in query.output.fields">
				<span class="label label-{{def.type[0]}}">{{def.type[0]}}</span>
			</span>
		</p>
		
		<p>The query will return a single value.</p>
	</div>
	<div ng-show="query.output.rows == 'first' && query.output.columns == 'all'">
		<p><span class="label label-object">object</span> <code>{ .. }</code></p>
		<p>The query will return an object containing the fields as described below.</p>
	</div>
	<div ng-show="query.output.rows == 'all' && query.output.columns == 'first'">
		<p><span class="label label-array">array</span> <code>[ .., .., .. ]</code></p>
		<p>The query will return an array.</p>
	</div>
	<div ng-show="query.output.rows == 'all' && query.output.columns == 'all'">
		<p><span class="label label-array">array</span> <code>[ { .. }, { .. }, { .. } ]</code></p>
		<p>The query will return an array of objects. Each object contains the fields as described below.</p>
	</div>
	
	<div ng-show="query.output.rows != 'first' || query.output.columns != 'first'">
	<table class="table table-striped table-condensed">
		<thead>
			<tr>
				<th>Name</th>
				<th>Type</th>
				<th>Details</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="(name, def) in query.output.fields">
				<td>
					<div ng-show="def.type == 'child'">
						<a href="#/queries/{{def.child}}">{{name}}</a>
					</div>
					<div ng-show="def.type != 'child'">
						{{name}}
					</div>
				
				</td>
				<td>
					<span ng-repeat="type in def.type">
						<span class="label label-{{type}}">{{type}}</span>
					</span>
				</td>
				<td>
					<!--
					<div ng-repeat="(namesub, defsub) in def.fields">
						{{namesub}}
					</div>
					-->
					
				</td>
			</tr>
		</tbody>
	</table>
	</div>
	
	
			
</div>
